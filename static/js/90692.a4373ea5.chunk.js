"use strict";(self.webpackChunkn2_utility=self.webpackChunkn2_utility||[]).push([[90692],{90494:(i,e,a)=>{a.d(e,{p:()=>t,z:()=>r});var s=a(50076);const r="aggregateCount";function t(i,e){if(!i.view)throw new s.default(`${e}:missing-parameters`,"'view' parameter is required for binning");if(i.sqlExpression)throw new s.default(`${e}:invalid-parameters`,"'sqlExpression' parameter is not supported for binning");if("3d"===i.view.type)throw new s.default(`${e}:invalid-parameters`,"3d view is not supported for binning")}},90692:(i,e,a)=>{a.r(e),a.d(e,{default:()=>d});var s=a(50076),r=a(53430),t=a(28383),n=a(90494),o=a(42633),l=a(11563);const f=[...o.i3,"time-only",...r.numericTypes];async function d(i){const{layerAdapter:e,...a}=await async function(i){if(!i?.layer||!(i.field||i.valueExpression||i.sqlExpression))throw new s.default("histogram:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(i.valueExpression&&!i.sqlExpression&&!i.view)throw new s.default("histogram:missing-parameters","View is required when 'valueExpression' is specified");i.forBinning&&(0,n.p)(i,"histogram");const{layer:e,...a}=i,d=i.forBinning?l.Mi:l.G3,p=(0,l.Jg)(e,d,i.forBinning);if(!p)throw new s.default("histogram:invalid-parameters","'layer' must be one of these types: "+(0,l.Ho)(d).join(", "));const u={layerAdapter:p,...a};u.normalizationType=(0,o.Wy)(u);const h=null!=u.signal?{signal:u.signal}:null;await p.load(h);const m=u.valueExpression||u.sqlExpression,w=u.field,c=w?p.getField(w):null,g=!u.classificationMethod||"equal-interval"===u.classificationMethod,v=await(0,o.EG)({field:w,normalizationField:u.normalizationField,valueExpression:u.valueExpression}),y=(0,t.MH)(p,v,"histogram:invalid-parameters");if(y)throw y;if(c){const i=(0,t.a)(p,c,"histogram:invalid-parameters",f);if(i)throw i;if((0,o.fs)(c)||(0,r.isTimeOnlyField)(c)){if(u.normalizationType)throw new s.default("histogram:invalid-parameters","Normalization is not allowed for date fields");if(!g)throw new s.default("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed for date fields")}}else if(m){if(u.normalizationType)throw new s.default("histogram:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");if(!g)throw new s.default("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed when 'valueExpression' or 'sqlExpression' is specified")}u.filter&&!u.filter.spatialRelationship&&(u.filter.spatialRelationship="intersects");const E=(0,t.Wk)(u.filter,"histogram:invalid-parameters");if(E)throw E;return null==u.useQueryAttributeBins&&(u.useQueryAttributeBins=!0),u}(i);return e.histogram(a)}}}]);
//# sourceMappingURL=90692.a4373ea5.chunk.js.map