"use strict";(self.webpackChunkn2_utility=self.webpackChunkn2_utility||[]).push([[36289],{36289:(e,r,t)=>{t.r(r),t.d(r,{alterVersion:()=>u,serverVersionCacheMap:()=>o});var s=t(3825),n=t(50076),i=t(54994),a=t(94487);const o=new Map;async function u(e,r,t,u){o.has(e)||await(0,a.t)(o,e);const c=o.get(e);if((c?.serverVersion??0)<=11.1)throw new n.default("alterVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!r)throw new n.default("alterVersion:missing-guid","guid for version is missing");const l=(0,i.Dl)(e),f=t.toJSON(),h=(0,i.jV)(l.query,{query:(0,i.lF)({...f,f:"json"}),...u,authMode:"immediate",method:"post"});r.startsWith("{")&&(r=r.slice(1,-1));const v=`${l.path}/versions/${r}/alter`,{data:d}=await(0,s.default)(v,h);return!!d&&d.success}},94487:(e,r,t)=>{t.d(r,{t:()=>n});var s=t(3825);async function n(e,r){let t=null;const n="string"==typeof r?r:r.path;if(!e.has(n)){const i=await(0,s.default)(n.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});t={serverVersion:Number(i.data.currentVersion),featureServerUrl:n.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(r,t)}}}}]);
//# sourceMappingURL=36289.3c0646dd.chunk.js.map