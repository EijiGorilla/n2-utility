"use strict";(self.webpackChunkn2_utility=self.webpackChunkn2_utility||[]).push([[94454],{81552:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(35143),o=n(69098),s=n(76460),i=(n(81806),n(47249),n(50076),n(85842)),a=n(9624);let l=class extends o.A{projectOrWarn(e,t){if(null==e)return e;const{geometry:n,pending:r}=(0,a.projectOrLoad)(e,t);return r?null:r||n?n:(s.A.getLogger(this).warn("geometry could not be projected to the spatial reference",{georeference:this,geometry:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:t}),null)}};l=(0,r._)([(0,i.$)("esri.layers.support.GeoreferenceBase")],l);const c=l},94454:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(35143),o=n(15941),s=n(76931),i=n(46053),a=(n(81806),n(76460),n(47249),n(85842)),l=n(53494),c=n(76797),u=n(65215),p=n(9624),x=n(81552);let h=class extends x.A{constructor(e){super(e),this.extent=null,this.rotation=0,this.type="extent-and-rotation"}get coords(){if(null==this.extent)return null;const{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:o}=this.extent;let s;if(this.rotation){const{x:o,y:i}=this.extent.center,a=f(o,i,this.rotation);s=[a(e,t),a(e,r),a(n,r),a(n,t)],s.push(s[0])}else s=[[e,t],[e,r],[n,r],[n,t],[e,t]];return new u.default({rings:[s],spatialReference:o})}set coords(e){if(null==e||null==this.extent)return;const t=this.extent.spatialReference;if(e=this.projectOrWarn(e,t),null==e?.extent)return;const{rings:[[n,r,s]],extent:{center:{x:i,y:a}}}=e,l=(0,o.KJ)(Math.PI/2-Math.atan2(r[1]-n[1],r[0]-n[0])),u=f(i,a,-l),[p,x]=u(n[0],n[1]),[h,y]=u(s[0],s[1]);this.extent=new c.default({xmin:p,ymin:x,xmax:h,ymax:y,spatialReference:t}),this.rotation=l}toSourceNormalized(e){const{extent:t,rotation:n}=this;if(null==e||null==t)return null;const{xmin:r,ymin:i,xmax:a,ymax:l,center:c,spatialReference:u}=t;e=e.normalize();const x=(0,p.projectOrLoad)(e,u).geometry;if(null==x)return null;let h=x.x,y=x.y;return n&&([h,y]=f(c.x,c.y,-n)(h,y)),(0,s.tc)((0,o.hs)(h,r,a,0,1),(0,o.hs)(y,l,i,0,1))}};function f(e,t,n){const r=(0,l.DF)(n),o=Math.cos(r),s=Math.sin(r);return(n,r)=>[o*(n-e)+s*(r-t)+e,o*(r-t)-s*(n-e)+t]}(0,r._)([(0,i.MZ)({clonable:!1})],h.prototype,"coords",null),(0,r._)([(0,i.MZ)({type:c.default})],h.prototype,"extent",void 0),(0,r._)([(0,i.MZ)({type:Number})],h.prototype,"rotation",void 0),h=(0,r._)([(0,a.$)("esri.layers.support.ExtentAndRotationGeoreference")],h);const y=h}}]);
//# sourceMappingURL=94454.082a1c9f.chunk.js.map