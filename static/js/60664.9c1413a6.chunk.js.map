{"version":3,"file":"static/js/60664.9c1413a6.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{a as e,l as t,b as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{StoreResults as i}from\"../views/3d/webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as u,hasLod as s,getIntersectedFeatureBSRadius as a}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return d(e)===d(t)}function d(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const b={json:{write:{writer:f,target:{\"feature.layerId\":{type:[Number,String],isRequired:!0},\"feature.objectId\":{type:[Number,String],isRequired:!0}}},origins:{\"web-scene\":{read:I}}}};function f(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function I(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function m(l,s,a,c){const{sceneIntersectionHelper:b}=l,{observer:f,observerFeatureId:I,targetFeatureId:m,target:g}=a;if(null==I&&null==m)return;c||(c=e=>e),e(p,f,g);const v=t(p),S=1;r(p,f,p,S/v);const F=o(p,g,y);s.options.store=i.ALL,b.intersectToolIntersectorRay(F,s);let N=null,w=null,R=null,A=null;for(const e of s.results.all){const t=u(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=d(t);null!=r&&(null!=I&&r===I&&(N??=c(j(e,l,v)),e.distanceInRenderSpace-S<N&&(R=e)),null!=m&&r===m&&(w??=c(j(e,l,v)),null==A&&e.distanceInRenderSpace-S<v&&v-e.distanceInRenderSpace+S<w&&(A=e)))}const{observerAdjusted:T,targetAdjusted:h}=a;R?.getIntersectionPoint(T)?a.observerSurfaceNormal=R.getTransformedNormal(n()):a.observerSurfaceNormal=null,A?.getIntersectionPoint(h)?a.targetSurfaceNormal=A.getTransformedNormal(n()):a.targetSurfaceNormal=null}function j(e,t,r){if(s(e)){const n=a(e,t);if(null!=n)return Math.min(n*g,r)}return 1e-5*r}const g=.05,y=l(),p=n();export{c as featureReferenceEquals,b as featureReferenceProperty,d as getFeatureId,m as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import t from\"../core/Clonable.js\";import s from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as a}from\"../core/accessorSupport/decorators/persistable.js\";import m from\"../geometry/Point.js\";import c from\"../symbols/support/ElevationInfo.js\";let l=class extends(s.JSONSupportMixin(t)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return i(this.position,o.position)&&i(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([p({type:m,json:{write:!0,origins:{\"web-scene\":{write:{isRequired:!0}}}}}),a()],l.prototype,\"position\",void 0),o([p({type:c}),a()],l.prototype,\"elevationInfo\",void 0),o([p(e)],l.prototype,\"feature\",void 0),l=o([n(\"esri.analysis.LineOfSightAnalysisTarget\")],l);const f=l;export{f as default};\n"],"names":["c","e","t","d","layer","id","r","objectId","objectIdField","attributes","uid","b","json","write","writer","feature","layerId","target","type","Number","String","isRequired","origins","read","ObjectId","m","l","s","a","sceneIntersectionHelper","observer","f","observerFeatureId","I","targetFeatureId","g","p","v","F","o","y","options","store","i","ALL","intersectToolIntersectorRay","N","w","R","A","results","all","u","distanceInRenderSpace","j","observerAdjusted","T","targetAdjusted","h","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","n","targetSurfaceNormal","Math","min","JSONSupportMixin","constructor","super","this","position","elevationInfo","equals","prototype"],"sourceRoot":""}