{"version":3,"file":"static/js/28866.1d339433.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/layers/support/rasterFieldUtils.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/webscene/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{commonRasterFieldNames as a,addMultidimensionalFieldValues as n,rasterFieldPrefix as o}from\"../../layers/support/rasterFieldUtils.js\";import{combineTimeExtent as l}from\"../../layers/support/timeSupport.js\";import{getDefaultDatumTransformationForDataset as u,projectDatasetExtent as c,getSourceScale as p}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as m}from\"./support/popupUtils.js\";const y=y=>{let f=class extends y{constructor(){super(...arguments),this.layer=null,this.tileInfo=null}get fullExtent(){try{return this.layer.loaded?this._getFullExtent():null}catch{return null}}get timeExtent(){return l(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}get hasTilingEffects(){return!!(this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment)}get datumTransformation(){try{return this.layer.loaded?u(this.layer.fullExtent,this.view.spatialReference,!0):null}catch{return null}}supportsSpatialReference(e){try{return!this.layer.loaded||!!c(this.layer.serviceRasterInfo,e)}catch{return!1}}async fetchPopupFeaturesAtLocation(e,i){const{layer:s}=this;if(!e)throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:l}=s,u=m(s,i);if(!l||null==u)return[];const c=[],{value:p,magdirValue:y,processedValue:f}=await s.identify(e,{timeExtent:this.timeExtent,signal:i?.signal});let d=\"\";if(p?.length){d=\"imagery-tile\"===s.type&&s.hasStandardTime()&&null!=p[0]?p.map((e=>s.getStandardTimeValue(e))).join(\", \"):p.join(\", \");const e={ObjectId:0};e[a.servicePixelValue]=\"imagery-tile\"===s.type&&\"Function\"===s.raster.datasetFormat?f?.join(\", \"):d,e[a.rawServicePixelValue]=d;const r=s.raster?.rasterInfo??s.serviceRasterInfo,i=r?.attributeTable;if(null!=i){const{fields:t,features:r}=i,s=t.find((({name:e})=>\"value\"===e.toLowerCase())),n=e[a.servicePixelValue],l=s?r.find((e=>String(e.attributes[s.name])===n)):null;if(l)for(const i in l.attributes)if(l.attributes.hasOwnProperty(i)){e[o+i]=l.attributes[i]}}const l=r?.dataType;if(\"vector-magdir\"!==l&&\"vector-uv\"!==l||(e[a.magnitude]=y?.[0],e[a.direction]=y?.[1]),\"imagery-tile\"===s.type){const{multidimensionalDefinition:t}=this.layer.normalizeRasterFetchOptions({timeExtent:this.timeExtent});n(s.rasterFields,e,t)}const u=new t({geometry:this.fullExtent?.clone(),attributes:e,layer:s,sourceLayer:s});c.push(u)}return c}async getSourceScale(){return await this.layer.load(),p(this.layer.serviceRasterInfo,this.view.spatialReference)}_getFullExtent(){return c(this.layer.serviceRasterInfo,this.view.spatialReference)}};return e([i()],f.prototype,\"fullExtent\",null),e([i()],f.prototype,\"layer\",void 0),e([i({readOnly:!0})],f.prototype,\"timeExtent\",null),e([i()],f.prototype,\"tileInfo\",void 0),e([i({readOnly:!0})],f.prototype,\"hasTilingEffects\",null),e([i()],f.prototype,\"datumTransformation\",null),f=e([s(\"esri.views.layers.ImageryTileLayerView\")],f),f};export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./Field.js\";const n=\"Raster.\",a=\"Raster.Dim.\",i=\".Max\",t={servicePixelValue:\"Raster.ServicePixelValue\",rawServicePixelValue:\"Raster.ServicePixelValue.Raw\",itemPixelValue:\"Raster.ItemPixelValue\",magnitude:\"Raster.Magnitude\",direction:\"Raster.Direction\",variable:\"Raster.Variable\"},r=new Map([[\"quarters\",\"Quarter\"],[\"months\",\"Month\"],[\"weeks\",\"Week of the year\"],[\"days\",\"Day of the year\"]]);function l(n,a){return new e({name:n,alias:a,domain:null,editable:!1,length:50,type:\"string\"})}function s(n,a){return new e({name:n,alias:a,domain:null,editable:!1,type:\"double\"})}function u(n,a){return new e({name:n,alias:a,domain:null,editable:!1,type:\"date\"})}function o(e){return l(t.servicePixelValue,e??\"Service Pixel Value\")}function c(e){return l(t.rawServicePixelValue,e??\"Raw Service Pixel Value\")}function m(){return l(t.itemPixelValue,\"Item Pixel Value\")}function f(e){return l(`${t.servicePixelValue}.${e}`,e)}function d(e){return s(`${t.magnitude}`,\"Magnitude\"+(e?` (${e})`:\"\"))}function $(){return s(`${t.direction}`,\"Direction (Â°)\")}function v(e){return e.fields.filter((e=>\"oid\"!==e.type&&\"value\"!==e.name.toLowerCase())).map((e=>{const a=e.clone();return a.name=`${n}${e.name}`,a}))}function p(e){const n=new Set,r=new Set,o=new Map;e.variables.forEach((({dimensions:e})=>{e.forEach((e=>{if(e.recurring)o.set(e.name,e.unit);else{const a=\"ISO8601\"===e.unit?.trim()?n:r;a.add(e.name),e.hasRanges&&a.add(`${e.name}${i}`)}}))}));return[l(t.variable,\"Variable\"),...[...n].map((e=>u(`${a}${e}`,x(e)))),...[...r].map((e=>s(`${a}${e}`,x(e)))),...[...o].map((([e,n])=>s(`${a}${e}`,h(e,n))))]}function h(e,n){return n=n?.toLowerCase(),n&&r.has(n)?r.get(n):x(e)}function x(e){const n=e.endsWith(i),a=n?e.slice(0,-4):e,t=\"StdTime\"===a?\"Standard Time\":\"StdZ\"===a?\"Standard Z\":a;return n?`${t} Max`:t}function w(e,n){return n?new Date(e):e}function V(e,n,r){r?.length&&(n[t.variable]=r[0].variableName,r.forEach((({dimensionName:t,values:r})=>{if(t&&r?.length){const l=`${a}${t}`,s=e.find((({name:e})=>e===l));if(!s)return;const u=\"date\"===s.type,o=r[0];if(Array.isArray(o)){if(n[`${a}${t}`]=w(o[0],u),null!=o[1]){const r=`${a}${t}${i}`;if(e.some((({name:e})=>e===r))){const e=w(o[1],u);n[r]=e}}}else n[`${a}${t}`]=w(o,u)}})))}function b(e,n){if(n.pixelType.startsWith(\"f\")&&e.forEach((({format:e,fieldName:n})=>{e&&n&&/^raster\\.(item|service)pixelvalue/i.test(n)&&(e.places=2)})),n.multidimensionalInfo){const t=n.multidimensionalInfo.variables.flatMap((({dimensions:e})=>e));e.forEach((({format:e,fieldName:n})=>{if(e&&n?.startsWith(a)){const r=n.slice(a.length),l=`${r}${i}`,s=t.find((({name:e})=>e===r||e===l));s?.values?.every((e=>Number.isInteger(e)))&&(e.places=0)}}))}}export{V as addMultidimensionalFieldValues,t as commonRasterFieldNames,$ as getDirectionField,m as getItemPixelValueField,d as getMagnitudeField,p as getMultidimensionalFields,f as getProcessedServicePixelValueField,v as getRasterAttributeTableFields,c as getRawServicePixelValueField,o as getServicePixelValueField,a as rasterDimensionFieldPrefix,n as rasterFieldPrefix,b as setDefaultRasterFieldFormats};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../core/arrayUtils.js\";import{clone as e}from\"../core/lang.js\";import{offsetDate as n}from\"../core/timeUtils.js\";import i from\"../time/TimeExtent.js\";import{isWebMap as r}from\"../webmap/utils.js\";import{isWebScene as l}from\"../webscene/utils.js\";function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:e(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return i.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const r=e.filter(s),l=e.filter((t=>!s(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===l.length)return i.allTime;const u=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...l.map((t=>t.visibilityTimeExtent))];if(a.some(m))return i.allTime;const f=u.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),c=(await Promise.allSettled(f)).map((t=>\"fulfilled\"===t.status?t.value:null));if(c.some(m))return i.allTime;const d=[...c,...a].filter(t);if(0===d.length)return i.allTime;return d.reduce(((t,e)=>t.union(e)))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case\"time-window\":return new i({start:r,end:l});case\"cumulative-from-start\":return new i({start:null,end:s});case\"cumulative-from-end\":return new i({start:s,end:null});case\"instant\":return new i({start:s,end:s})}}async function c(t,e){if(!r(t)&&!l(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,-e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,-r.getTimezoneOffset(),\"minutes\"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,r.getTimezoneOffset(),\"minutes\"):r})}export{a as getTimeExtentFromLayers,c as getTimeSliderSettingsFromWebDocument,p as toLocalTimeExtent,d as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{WebSceneTag as o}from\"../support/tagSymbols.js\";function t(t){return null!=t&&\"object\"==typeof t&&o in t}export{t as isWebScene};\n"],"names":["y","f","constructor","super","arguments","this","layer","tileInfo","fullExtent","loaded","_getFullExtent","timeExtent","l","view","_get","hasTilingEffects","renderer","dynamicRangeAdjustment","datumTransformation","u","spatialReference","supportsSpatialReference","e","c","serviceRasterInfo","fetchPopupFeaturesAtLocation","i","s","r","popupEnabled","m","value","p","magdirValue","processedValue","identify","signal","d","length","type","hasStandardTime","map","getStandardTimeValue","join","ObjectId","a","servicePixelValue","raster","datasetFormat","rawServicePixelValue","rasterInfo","attributeTable","fields","t","features","find","_ref","name","toLowerCase","n","String","attributes","hasOwnProperty","o","dataType","magnitude","direction","multidimensionalDefinition","normalizeRasterFetchOptions","rasterFields","geometry","clone","sourceLayer","push","getSourceScale","load","prototype","readOnly","timeInfo","datesInUnknownTimezone","timeOffset","useViewTime","intersection","isEmpty","isAllTime","offset","unit","equals","itemPixelValue","variable","Map","alias","domain","editable","$","v","filter","Set","variables","forEach","dimensions","recurring","set","trim","add","hasRanges","x","_ref2","h","has","get","endsWith","slice","w","Date","V","variableName","_ref3","dimensionName","values","_ref4","Array","isArray","some","_ref5","b","pixelType","startsWith","_ref6","format","fieldName","test","places","multidimensionalInfo","flatMap","_ref7","_ref8","_ref9","every","Number","isInteger","async","widgets","timeSlider","fullTimeExtent","allLayers","numStops","stopInterval","stops","dates","interval","count","allTime","Promise","all","visibilityTimeExtent","hasLiveData","fetchRecomputedExtents","allSettled","status","reduce","union","currentTimeExtent","start","end","loop","numThumbs","getTime","mode","playRate","stopDelay","getTimezoneOffset"],"sourceRoot":""}