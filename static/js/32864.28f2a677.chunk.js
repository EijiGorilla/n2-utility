"use strict";(self.webpackChunkn2_utility=self.webpackChunkn2_utility||[]).push([[32864],{32864:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var i=r(35143),l=r(42251),n=r(69098),o=r(73582),a=r(42553),u=r(30726),s=r(46053),d=r(21403),c=(r(81806),r(47249),r(85842)),b=r(40565),f=r(19247);let p=class extends(a.A.JSONSupportMixin(n.A)){constructor(e){super(e),this.observer=null,this.farDistance=1e3,this.heading=0,this.tilt=90,this.horizontalFieldOfView=45,this.verticalFieldOfView=45,this.feature=null}isValid(){return null!=this.observer&&this.farDistance>0}equals(e){return(0,u.CM)(this.observer,e.observer)&&this.farDistance===e.farDistance&&this.heading===e.heading&&this.tilt===e.tilt&&this.horizontalFieldOfView===e.horizontalFieldOfView&&this.verticalFieldOfView===e.verticalFieldOfView&&(0,l.xH)(this.feature,e.feature)}};(0,i._)([(0,s.MZ)({type:f.default,json:{write:{isRequired:!0}}})],p.prototype,"observer",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],p.prototype,"farDistance",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,d.w)((e=>o.ie.normalize((0,b.GB)(e),void 0,!0)))],p.prototype,"heading",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],p.prototype,"tilt",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}})],p.prototype,"horizontalFieldOfView",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],p.prototype,"verticalFieldOfView",void 0),(0,i._)([(0,s.MZ)(l.N1)],p.prototype,"feature",void 0),(0,i._)([(0,s.MZ)({json:{read:!1}})],p.prototype,"isValid",null),p=(0,i._)([(0,c.$)("esri.analysis.Viewshed")],p);const y=p},42251:(e,t,r)=>{r.d(t,{N1:()=>d,uY:()=>c,wY:()=>s,xH:()=>u});var i=r(20664),l=r(9392),n=r(95925),o=r(3112),a=r(30310);function u(e,t){return s(e)===s(t)}function s(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:"";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const d={json:{write:{writer:function(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}}}}};function c(e,t,r,u){const{sceneIntersectionHelper:d}=e,{observer:c,observerFeatureId:f,targetFeatureId:h,target:v}=r;if(null==f&&null==h)return;u||(u=e=>e),(0,i.a)(y,c,v);const I=(0,i.l)(y);(0,i.b)(y,c,y,1/I);const j=(0,n.Cr)(y,v,p);t.options.store=o.oH.ALL,d.intersectToolIntersectorRay(j,t);let m=null,w=null,g=null,N=null;for(const i of t.results.all){const t=(0,a.Gy)(i,e);if(null==t||null==i.distanceInRenderSpace)continue;const r=s(t);null!=r&&(null!=f&&r===f&&(m??=u(b(i,e,I)),i.distanceInRenderSpace-1<m&&(g=i)),null!=h&&r===h&&(w??=u(b(i,e,I)),null==N&&i.distanceInRenderSpace-1<I&&I-i.distanceInRenderSpace+1<w&&(N=i)))}const{observerAdjusted:F,targetAdjusted:S}=r;g?.getIntersectionPoint(F)?r.observerSurfaceNormal=g.getTransformedNormal((0,l.vt)()):r.observerSurfaceNormal=null,N?.getIntersectionPoint(S)?r.targetSurfaceNormal=N.getTransformedNormal((0,l.vt)()):r.targetSurfaceNormal=null}function b(e,t,r){if((0,a.QS)(e)){const i=(0,a.SM)(e,t);if(null!=i)return Math.min(i*f,r)}return 1e-5*r}const f=.05,p=(0,n.vt)(),y=(0,l.vt)()}}]);
//# sourceMappingURL=32864.28f2a677.chunk.js.map