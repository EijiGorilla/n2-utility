"use strict";(self.webpackChunkn2_utility=self.webpackChunkn2_utility||[]).push([[43601,62315],{7256:(e,t,r)=>{r.d(t,{t:()=>h});var i=r(34761),n=r(13191),o=r(20664),s=r(9392),a=r(55855),l=r(32314),c=r(70667),d=r(45463),u=r(425);class h extends l.X{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=t,this._material=null!=t?t:new u.W({width:1,color:(0,a.fA)(1,0,1,1),stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerWidth:1,hasPolygonOffset:!1,renderOccluded:d.m$.OccludeAndTransparent,isDecoration:!!e.isDecoration,writeDepth:!0}),this.applyProperties(e)}setGeometryFromPoint(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;const r=(0,s.vt)();this.view.renderCoordsHelper.toRenderCoords(e,r)&&this.setGeometryFromRenderSpacePoint(r,t)}setGeometryFromRenderSpacePoint(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.geometry=[[[e[0]-t,e[1],e[2]],[e[0]+t,e[1],e[2]]],[[e[0],e[1]-t,e[2]],[e[0],e[1]+t,e[2]]],[[e[0],e[1],e[2]-t],[e[0],e[1],e[2]+t]]]}setGeometryFromExtent(e){const t=this.view.spatialReference,r=(0,s.vt)(),i=(0,s.vt)(),n=100,a=[];(0,o.i)(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.i)(r,e[2],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.i)(r,e[2],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.i)(r,e[0],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.i)(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),(0,o.i)(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,i),a.push([i[0],i[1],i[2]]),this.geometry=[a]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,i=e.basis1,n=e.basis2,o=.5,a=(0,s.vt)(),l=(0,s.vt)(),c=(0,s.vt)(),d=(0,s.vt)();a[0]=r[0]-i[0]*o-n[0]*o,a[1]=r[1]-i[1]*o-n[1]*o,a[2]=r[2]-i[2]*o-n[2]*o,l[0]=r[0]-i[0]*o+n[0]*o,l[1]=r[1]-i[1]*o+n[1]*o,l[2]=r[2]-i[2]*o+n[2]*o,c[0]=r[0]+i[0]*o+n[0]*o,c[1]=r[1]+i[1]*o+n[1]*o,c[2]=r[2]+i[2]*o+n[2]*o,d[0]=r[0]+i[0]*o-n[0]*o,d[1]=r[1]+i[1]*o-n[1]*o,d[2]=r[2]+i[2]*o-n[2]*o,t.push([a[0],a[1],a[2]]),t.push([l[0],l[1],l[2]]),t.push([c[0],c[1],c[2]]),t.push([d[0],d[1],d[2]]),t.push([a[0],a[1],a[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;this.transform=(0,i.kN)(g,t);const{points:r}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[r]}setGeometryFromSegments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.uY;this.transform=(0,i.kN)(g,t),this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map((e=>e.map((e=>(0,o.t)((0,s.vt)(),e,this.transform)))))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(e){this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(e){this._material.setParameters({width:e})}get color(){return this._material.parameters.color}set color(e){const t=1===e[3];this._material.setParameters({color:e,writeDepth:t})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(e){this._material.setParameters({innerWidth:e})}get innerColor(){return this._material.parameters.innerColor}set innerColor(e){this._material.setParameters({innerColor:e})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(e){null!=this._material&&this._material.setParameters({stipplePattern:e})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(e){this._material.setParameters({stippleOffColor:e})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(e){this._material.setParameters({stipplePreferContinuous:e})}get falloff(){return this._material.parameters.falloff}set falloff(e){this._material.setParameters({falloff:e})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(e){this._material.setParameters({hasPolygonOffset:e})}createExternalResources(){}destroyExternalResources(){}createGeometries(e){for(const t of(0,c.z)(this.geometry)){const r=(0,c.t)(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const g=(0,n.vt)()},17430:(e,t,r)=>{r.d(t,{B:()=>o,V:()=>s});var i=r(9624),n=r(80935);function o(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=(0,i.tryProjectWithZConversion)(e,t);return null==s?null:(s.hasZ&&!o||null==r||(s.z=(0,n.R1)(r,s)??0),s)}function s(e,t,r){r.warnOnce(`Failed to project analysis geometry (id: '${e.id}'), projection from spatial reference (wkid: '${t.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}},20205:(e,t,r)=>{r.d(t,{r:()=>i,x:()=>T});var i,n,o=r(69539),s=r(59784),a=r(68134),l=r(34761),c=r(13191),d=r(60008),u=r(20664),h=r(9392),g=r(75762),p=r(93131),m=r(77654),f=r(56121),b=r(91175),I=r(83490),w=r(62577),M=r(45463),v=r(76956),C=r(425),y=r(76336);(n=i||(i={}))[n.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",n[n.CENTER_ON_ARROW=1]="CENTER_ON_ARROW";class T extends f.q{constructor(e,t){const r=new C.W({width:1,renderOccluded:M.m$.OccludeAndTransparent,isDecoration:!0}),i=new v.v({cullFace:I.s2.Back,renderOccluded:M.m$.Opaque,isDecoration:!0}),n=new v.v({cullFace:I.s2.Back,renderOccluded:M.m$.Opaque,isDecoration:!0}),l=new v.v({cullFace:I.s2.Back,renderOccluded:M.m$.Opaque,isDecoration:!0}),c=new v.v({writeDepth:!1,cullFace:I.s2.Front,renderOccluded:M.m$.Transparent,isDecoration:!0});super({view:e,..._({offsetMode:t,tubeMaterial:i,tipMaterial:n,capMaterial:l,outlineMaterial:c,calloutMaterial:r})}),this._themeHandle=(0,a.watch)((()=>e.effectiveTheme.accentColor),(e=>{const t=(0,s.bJ)(e),a=o.default.toUnitRGBA(e),d=o.default.toUnitRGBA(t),u=o.default.toUnitRGBA(o.default.blendColors(t,e,.4)),h=o.default.toUnitRGBA(o.default.blendColors(t,e,.14));r.setParameters({color:a}),i.setParameters({color:h}),n.setParameters({color:d}),l.setParameters({color:u}),c.setParameters({color:a})}),a.initial)}destroy(){this._themeHandle.remove(),super.destroy()}}function _(e){let{offsetMode:t,tubeMaterial:r,tipMaterial:n,capMaterial:o,outlineMaterial:s,calloutMaterial:a}=e;const l=t===i.CENTER_ON_CALLOUT?p.I4:0,c=[(0,h.fA)(l,0,-24),(0,h.fA)(l,0,p.vA/2)],d=function(e){const t=(0,u.d)((0,h.vt)(),e[e.length-1],e[e.length-2]);(0,u.n)(t,t),(0,u.h)(t,t,p.xj),(0,u.g)(t,t,e[e.length-1]);{const r=(0,u.d)((0,h.vt)(),e[0],e[1]);return(0,u.n)(r,r),(0,u.h)(r,r,p.xj),(0,u.g)(r,r,e[0]),[r,...e,t]}}(c),g=O({vertices:c,padding:0,materials:{tube:r,tip:n,cap:o}}),f=O({vertices:c,padding:p.D9,materials:{tube:s,tip:s,cap:s}}),I=(0,w.Z8)(a,[[l,0,0],[l-p.I4,0,0]]),M=(0,w.Z8)(a,[[l,0,0],[l-p.I4,0,0]]);return{renderObjects:[...g.normal.map((e=>new b.M(e,y.p7.Unfocused|m.s5))),...f.normal.map((e=>new b.M(e,y.p7.Unfocused|m.s5))),new b.M(I,y.p7.Unfocused|m.s5|m.xM),...g.focused.map((e=>new b.M(e,y.p7.Focused|m.s5))),...f.focused.map((e=>new b.M(e,y.p7.Focused|m.s5))),new b.M(M,y.p7.Focused|m.s5|m.xM)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[d]},collisionPriority:1,radius:p.rb,state:m.s5}}function O(e){let{vertices:t,padding:r,materials:i}=e;const n=e=>{const n=t.slice(),o=(0,u.d)(g.rq.get(),n[0],n[1]);(0,u.n)(o,o);const s=(0,u.d)(g.rq.get(),n[n.length-1],n[n.length-2]);if((0,u.n)(s,s),r>0){const e=(0,u.h)((0,h.vt)(),s,-r);n[n.length-1]=(0,u.g)(e,e,n[n.length-1]);const t=(0,u.h)((0,h.vt)(),o,-r);n[0]=(0,u.g)(t,t,n[0])}const a=e?p.cE:1,m=p.xj*a,f=p.rb*a,b=(0,l.D_)(g.Rc.get());if(r>0){const e=m/4,t=(0,u.i)(g.rq.get(),0,e,0),i=1+r/e;(0,l.Tl)(b,b,t),(0,l.hs)(b,b,(0,u.i)(g.rq.get(),i,i,i)),(0,l.Tl)(b,b,(0,u.h)(t,t,-1/i))}const I=(0,l.D_)((0,c.vt)()),M=(0,h.fA)(0,1,0),v=(0,l.I0)((0,c.vt)(),(0,d.Yc)(g.J8.get(),M,s));v[12]=n[n.length-1][0],v[13]=n[n.length-1][1],v[14]=n[n.length-1][2],(0,l.lw)(v,v,b);const C=i.tube,y=function(e,t,r){const i=[],n=12;for(let o=0;o<n;o++){const t=o/n*2*Math.PI;i.push([Math.cos(t)*e,Math.sin(t)*e])}return(0,w.Nq)(r,i,t,[],[],!1)}(p.qD*(e?p.FF:1)+r,n,C);y.transformation=I;const T=[y],_=i.tip,O=(0,w.EE)(_,m,f,24,!1,!1,!0);O.transformation=v,T.push(O);const A=i.cap,N=(0,w.EE)(A,m,f,24,!1,!0,!1);N.transformation=v,T.push(N);const R=(0,l.I0)((0,c.vt)(),(0,d.Yc)(g.J8.get(),M,o));return R[12]=n[0][0],R[13]=n[0][1],R[14]=n[0][2],(0,l.lw)(R,R,b),T.push(O.instantiate({transformation:R})),T.push(N.instantiate({transformation:R})),T};return{normal:n(!1),focused:n(!0)}}},35925:(e,t,r)=>{r.d(t,{Xq:()=>a,wk:()=>s});const i={dash:[4,3],dot:[1,3],"long-dash":[8,3],"short-dash":[4,1],"short-dot":[1,1]},n={dash:i.dash,"dash-dot":[...i.dash,...i.dot],dot:i.dot,"long-dash":i["long-dash"],"long-dash-dot":[...i["long-dash"],...i.dot],"long-dash-dot-dot":[...i["long-dash"],...i.dot,...i.dot],none:null,"short-dash":i["short-dash"],"short-dash-dot":[...i["short-dash"],...i["short-dot"]],"short-dash-dot-dot":[...i["short-dash"],...i["short-dot"],...i["short-dot"]],"short-dot":i["short-dot"],solid:null},o=8;function s(e){return{pattern:[e,e],pixelRatio:2}}function a(e){return"style"===e?.type?function(e){return null!=e?function(e,t){return null==e?e:{pattern:e.slice(),pixelRatio:t}}(n[e],o):null}(e.style):null}},48678:(e,t,r)=>{r.d(t,{S:()=>d,b:()=>c});var i=r(3799),n=r(58350),o=r(21390),s=r(86955),a=r(66470),l=r(2687);function c(e){const t=new l.N5,{vertex:r,fragment:c,attributes:d,varyings:u}=t;return(0,i.NB)(r,e),d.add(a.r.POSITION,"vec3"),d.add(a.r.UV0,"vec2"),u.add("vUV","vec2"),r.main.add(s.H`vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);`),c.uniforms.add(new n.E("backgroundColor",(e=>e.backgroundColor)),new n.E("gridColor",(e=>e.gridColor)),new o.m("gridWidth",(e=>e.gridWidth))).main.add(s.H`const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
fragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;`),t}const d=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:"Module"}))},56332:(e,t,r)=>{r.d(t,{E$:()=>n,Or:()=>o,qb:()=>s});var i=r(59784);const n=(0,r(55855).fA)(0,0,0,.04);function o(e){let{accentColor:t}=e;return(0,i.f6)(t,.5)}function s(e){let{accentColor:t}=e;return(0,i.f6)(t,.7)}},59962:(e,t,r)=>{r.d(t,{t:()=>d,k:()=>u});const i="theme-style";function n(e,t){return function(e,t){const r=new Image(t,t);return r.src=e,r}(function(e){const t=(new XMLSerializer).serializeToString(e);return`data:image/svg+xml;base64,${btoa(t)}`}(o(function(e){const t=e.split(",")[1],r=atob(t);return(new DOMParser).parseFromString(r,"image/svg+xml")}(e),t)),t.size)}function o(e,t){let{accentColor:r,contrastColor:n}=t;const o=r.toHex(),s=r.a,a=n.toHex(),l=n.a,c=e.getElementsByTagNameNS("http://www.w3.org/2000/svg","style").namedItem(i);return c&&(c.innerHTML=`\n      .contrast-fill { fill: ${a}; fill-opacity: ${l}; }\n      .contrast-stroke { stroke: ${a}; stroke-opacity: ${l};  }\n      .accent-fill { fill: ${o}; fill-opacity: ${s}; }\n      .accent-stroke { stroke: ${o}; stroke-opacity:  ${s}; }`),e}const s="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NiIgY2xhc3M9ImFjY2VudC1maWxsIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI0Ljk5IiBkPSJNMjAuMDUgNDAuODZhMTUuMDUgMTUuMDUgMCAwIDAgMTcuMTQtMS41IDE1LjA1IDE1LjA1IDAgMCAwIDQuNDctMTYuNjUgMTUuMDUgMTUuMDUgMCAwIDAtMjIuNzItNy4xNSAxNS4wNSAxNS4wNSAwIDAgMC01LjUgNy4xNSIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSIvPjxwYXRoIGQ9Im0xMC45NyAzNS41NyA1LjM4IDEyLjA3IDcuNzktMTMuNDd6IiBjbGFzcz0iY29udHJhc3QtZmlsbCIvPjwvc3ZnPg==",a="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTggMTEuOTggMCAwIDAtOS44IDcuNTA3IiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIGNvbnRyYXN0LWZpbGwiLz48cGF0aCBkPSJtMjkuODE4IDIyLjgwOC02LjE4NCA0LjYtLjU0MS04LjM2NHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+";var l=r(96897);const c=64;function d(e,t){const{accentColor:r,contrastColor:i,preMultiplyAlpha:o}=t;return e.fromData(`heading-rotate:[accent:${r},contrast:${i},size:${c}]`,(()=>new l.g(n(s,{accentColor:r,contrastColor:i,size:c}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:o})))}function u(e,t){const{accentColor:r,contrastColor:i,preMultiplyAlpha:o}=t;return e.fromData(`tilt-rotate:[accent:${r},contrast:${i},size:${c}]`,(()=>new l.g(n(a,{accentColor:r,contrastColor:i,size:c}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:o})))}},62315:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var i=r(35143),n=r(69098),o=r(73582),s=r(42553),a=r(30726),l=r(46053),c=r(21403),d=(r(81806),r(47249),r(85842)),u=r(40565),h=r(37546),g=r(19247);let p=class extends(n.A.ClonableMixin(s.A)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&(0,a.CM)(this.position,e.position)&&this.width===e.width&&this.height===e.height}};(0,i._)([(0,l.MZ)({readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0),(0,i._)([(0,l.MZ)({type:g.default}),(0,h.P)()],p.prototype,"position",void 0),(0,i._)([(0,l.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,h.P)(),(0,c.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],p.prototype,"heading",void 0),(0,i._)([(0,l.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,h.P)(),(0,c.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],p.prototype,"tilt",void 0),(0,i._)([(0,l.MZ)({type:Number,nonNullable:!0}),(0,h.P)()],p.prototype,"width",void 0),(0,i._)([(0,l.MZ)({type:Number,nonNullable:!0}),(0,h.P)()],p.prototype,"height",void 0),p=(0,i._)([(0,d.$)("esri.analysis.SlicePlane")],p);const m=p},67169:(e,t,r)=>{r.d(t,{b:()=>m});var i=r(69539),n=r(68134),o=r(9392),s=r(93131),a=r(77654),l=r(56121),c=r(38317),d=r(91175),u=r(62577),h=r(45463),g=r(425),p=r(76336);class m extends l.q{constructor(e,t){const r=(0,a.wZ)(t),o=r?s.aj:s.YG,l=o*s.UF,d=s.YG,u={renderOccluded:h.m$.OccludeAndTransparent,isDecoration:!0},p=new g.W({...u,width:o}),m=new g.W({...u,width:l}),b=new g.W({...u,width:d});super({view:e,...c.MO,...f({isCorner:r,unfocusedMaterial:p,focusedMaterial:m,outlineMaterial:b})}),this._themeHandle=(0,n.watch)((()=>e.effectiveTheme.accentColor),(e=>{const t=i.default.toUnitRGBA(e);p.setParameters({color:t}),m.setParameters({color:t}),b.setParameters({color:t})}),n.initial)}destroy(){this._themeHandle.remove(),super.destroy()}}function f(e){let{isCorner:t,unfocusedMaterial:r,focusedMaterial:i,outlineMaterial:n}=e;const l=t?[(0,o.fA)(1,0,0),(0,o.fA)(0,0,0),(0,o.fA)(0,1,0)]:[(0,o.fA)(1,0,0),(0,o.fA)(-1,0,0)];return{renderObjects:[new d.M((0,u.Z8)(r,l),p.p7.Unfocused|a.oc),new d.M((0,u.Z8)(i,l),p.p7.Focused|a.oc),new d.M((0,u.Z8)(n,l),a.zm)],collisionType:{type:"line",paths:[l]},radius:t?s.E3:s.sd,state:a.oc}}},70667:(e,t,r)=>{r.d(t,{t:()=>f,z:()=>w});var i=r(19555),n=r(72745),o=r(55855),s=r(34111),a=r(482),l=r(44815),c=r(75002),d=r(38496),u=r(64465),h=r(50468),g=r(87634),p=r(17345),m=r(66470);function f(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=[],f=t.mapPositions;!function(e,t){const{attributeData:{position:r},removeDuplicateStartEnd:i}=e,n=function(e){const t=e.length;return e[0]===e[t-3]&&e[1]===e[t-2]&&e[2]===e[t-1]}(r)&&i,o=r.length/3-(n?1:0),s=new Array(2*(o-1)),a=n?r.slice(0,-3):r;let l=0;for(let c=0;c<o-1;c++)s[l++]=c,s[l++]=c+1;t.push([m.r.POSITION,new h.n(a,s,3,n)])}(t,n);const w=n[0][1].data,M=n[0][1].indices.length,v=(0,d.EH)(M);return function(e,t,r){if(null!=e.attributeData.colorFeature)return;const i=e.attributeData.color;t.push([m.r.COLOR,new h.n(i??o.Un,r,4)])}(t,n,v),function(e,t,r){null==e.attributeData.sizeFeature&&t.push([m.r.SIZE,new h.n([e.attributeData.size??1],r,1,!0)])}(t,n,v),function(e,t,r){e.attributeData.normal&&t.push([m.r.NORMAL,new h.n(e.attributeData.normal,r,3)])}(t,n,v),function(e,t,r){null!=e.attributeData.colorFeature&&t.push([m.r.COLORFEATUREATTRIBUTE,new h.n([e.attributeData.colorFeature],r,1,!0)])}(t,n,v),function(e,t,r){null!=e.attributeData.sizeFeature&&t.push([m.r.SIZEFEATUREATTRIBUTE,new h.n([e.attributeData.sizeFeature],r,1,!0)])}(t,n,v),function(e,t,r){null!=e.attributeData.opacityFeature&&t.push([m.r.OPACITYFEATUREATTRIBUTE,new h.n([e.attributeData.opacityFeature],r,1,!0)])}(t,n,v),function(e,t,r){if(null==e.overlayInfo||e.overlayInfo.renderCoordsHelper.viewingMode!==u.RT.Global||!e.overlayInfo.spatialReference.isGeographic)return;const n=(0,l.jh)(r.length),o=(0,s.tO)(e.overlayInfo.spatialReference);for(let i=0;i<n.length;i+=3)(0,a.RC)(r,i,n,i,o);const d=r.length/3,g=(0,c.oe)(d+1);let p=b,f=I,w=0,M=0;(0,i.hZ)(p,n[M++],n[M++]),M++,g[0]=0;for(let s=1;s<d+1;++s)s===d&&(M=0),(0,i.hZ)(f,n[M++],n[M++]),M++,w+=(0,i.xg)(p,f),g[s]=w,[p,f]=[f,p];t.push([m.r.DISTANCETOSTART,new h.n(g,t[0][1].indices,1,!0)])}(t,n,w),new p.V(e,n,f,g.X.Line,r)}const b=(0,n.vt)(),I=(0,n.vt)();function w(e,t){if(null==e||0===e.length)return[];const r=[];return e.forEach((e=>{const i=e.length,n=(0,l.jh)(3*i);e.forEach(((e,t)=>{n[3*t]=e[0],n[3*t+1]=e[1],n[3*t+2]=e[2]}));const o={attributeData:{position:n,normal:t},removeDuplicateStartEnd:!1};r.push(o)})),r}},77654:(e,t,r)=>{r.d(t,{s5:()=>we,xM:()=>Ce,CB:()=>Me,pu:()=>ve,h7:()=>re,Yx:()=>ue,DI:()=>ee,PI:()=>pe,tn:()=>ge,FK:()=>Q,W6:()=>ie,r_:()=>te,wZ:()=>he,fE:()=>Ae,d0:()=>me,Md:()=>be,bR:()=>Ie,oc:()=>_e,zm:()=>Oe,xQ:()=>K,gi:()=>oe,d8:()=>se,Oj:()=>ae,vJ:()=>ne});var i=r(62315),n=(r(81806),r(76460)),o=r(15941),s=r(76931),a=r(34761),l=r(20664),c=r(9392),d=(r(76797),r(19247)),u=r(9624),h=r(5568),g=r(79650),p=r(13927),m=r(95925),f=r(96190),b=r(75762),I=r(56332),w=r(93131),M=r(17430),v=r(38317),C=r(7256),y=r(43047),T=r(55855),_=r(32314),O=r(62577),A=r(45463),N=r(34981),R=r(58229),P=r(59696),E=r(77730),D=r(82809),S=r(86401),x=r(63928),L=r(16506),j=r(59246),Z=r(48678),U=r(93345),H=r(31432),G=r(57162);class W extends H.Y{constructor(){super(...arguments),this.backgroundColor=(0,T.fA)(1,0,0,.5),this.gridColor=(0,T.fA)(0,1,0,.5),this.gridWidth=4}}class q extends j.w{constructor(e,t){super(e,t,new L.$(Z.S,(()=>r.e(3744).then(r.bind(r,3744)))))}initializePipeline(){return(0,G.Ey)({blending:G.Os,depthTest:{func:U.MT.LESS},colorWrite:G.kn})}}class F extends x.W{constructor(e){super(e,z),this.produces=new Map([[E.N.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,N.RN)(e)]])}get visible(){return!0}createGLMaterial(e){return new k(e)}createBufferWriter(){return new D.Z(S.zK)}getConfiguration(){return R._}}class k extends P.A{constructor(e){super(e)}beginSlot(e){return this.getTechnique(q,e)}}class z extends W{constructor(){super(...arguments),this.renderOccluded=A.m$.Occlude,this.isDecoration=!1}}class Y extends _.X{constructor(e){super(e),this._material=null,this._renderOccluded=A.m$.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,T.fA)(1,0,0,1),this._backgroundColor=(0,T.fA)(1,0,0,1),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(e){this._gridWidth!==e&&(this._gridWidth=e,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(e){(0,y.c)(this._gridColor,e),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){(0,y.c)(this._backgroundColor,e),this._updateMaterial()}createExternalResources(){this._material=new F(this._materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){null!=this._material&&e(this._material)}createGeometries(e){if(null!=this._material){const t=(0,O.Gj)(this._material);e.addGeometry(t)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){null!=this._material&&this._material.setParameters(this._materialParameters)}}var B,V,$=r(74487),X=r(37431),J=r(76336);function Q(e,t,r,i,n,o,s,a){return function(e,t,r,i,n,o){const s=(0,l.f)(e,t),a=b.rq.get(),c=b.rq.get();switch(i===ve.HORIZONTAL_OR_VERTICAL?Math.abs(s)>w.lS?ve.HORIZONTAL:ve.VERTICAL:i){case ve.VERTICAL:{const i=Math.abs(s)<=w.Ll?e:r.viewUp;(0,l.e)(a,i,t),(0,l.c)(c,t);break}case ve.HORIZONTAL:(0,l.e)(a,r.viewUp,t),(0,l.e)(c,t,a);break;case ve.TILTED:{const i=Math.abs(s)<=w.Ll?t:r.viewUp;(0,l.e)(a,i,e),(0,l.e)(c,e,a);break}}const d=(0,l.e)(b.rq.get(),a,c);(0,l.f)(d,r.viewForward)>0&&(0,l.h)(c,c,-1),(0,l.n)(n,a),(0,l.n)(o,c)}(t,s.worldUpAtPosition(e,b.rq.get()),n,o,a.basis1,a.basis2),(0,l.h)(a.basis1,a.basis1,r),(0,l.h)(a.basis2,a.basis2,i),(0,l.c)(a.origin,e),(0,p.mR)(a.basis2,a.basis1,a.origin,a.plane),a}function K(e,t,r,i,n,o){const s=(0,l.c)(b.rq.get(),n.origin);(0,l.g)(s,s,(0,l.h)(b.rq.get(),n.basis1,e.direction[0]<0?1:-1)),(0,l.g)(s,s,(0,l.h)(b.rq.get(),n.basis2,e.direction[1]<0?1:-1));const a=(0,l.l)(n.basis1),c=(0,l.l)(n.basis2),d=(0,l.d)(b.rq.get(),r,s),u=(0,l.d)(b.rq.get(),t,s);let h=0,p=0;if(he(e)){const t=ue(n),r=ue(o);h=a-.5*e.direction[0]*(0,l.f)(n.basis1,u)/a,p=c-.5*e.direction[1]*(0,l.f)(n.basis2,u)/c;const i=r/t;h*=i,p*=i}const m=h+.5*e.direction[0]*(0,l.f)(n.basis1,d)/a,f=p+.5*e.direction[1]*(0,l.f)(n.basis2,d)/c,I=(0,l.h)(b.rq.get(),n.basis1,m/a),M=(0,l.h)(b.rq.get(),n.basis2,f/c);(m<=0||ce(o.origin,I,i)<=w.Sw)&&(0,l.c)(I,o.basis1),(f<=0||ce(o.origin,M,i)<=w.Sw)&&(0,l.c)(M,o.basis2);const v=(0,l.c)(b.rq.get(),s);return(0,l.g)(v,v,(0,l.h)(b.rq.get(),I,e.direction[0]<0?-1:1)),(0,l.g)(v,v,(0,l.h)(b.rq.get(),M,e.direction[1]<0?-1:1)),(0,g.f)(v,I,M,o)}function ee(e,t){return w.aE*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function te(e,t,r,i){const n=(0,l.e)(b.rq.get(),t,r);return(0,l.e)(n,n,t),(0,p.O_)(e,n,i)}function re(e,t){return(0,v.wQ)(e.basis1,e.basis2,e.origin,t)}function ie(e,t,r,i){const n=t.worldUpAtPosition(e.origin,b.rq.get()),o=b.rq.get();switch(r){case Me.HEADING:(0,l.c)(o,n);break;case Me.TILT:(0,l.c)(o,e.basis1)}return(0,p.O_)(e.origin,o,i)}function ne(e,t,r,i){const n=le(r,B.NEGATIVE_X),o=b.Rc.get();(0,a.Qr)(o,t,n.edge*Math.PI/2);const d=(0,l.n)(b.rq.get(),n.basis);let u=(0,l.h)(b.rq.get(),d,n.direction*i.computeScreenPixelSizeAt(n.position)*w.I4);(0,l.g)(u,u,n.position);const h=i.projectToRenderScreen(u,(0,s.sc)(b.rq.get())),p=function(e,t){const[r,i,n,o]=e.viewport,s=Math.min(n,o)/16;let a=!0;return t[0]<r+s?(t[0]=r+s,a=!1):t[0]>r+n-s&&(t[0]=r+n-s,a=!1),t[1]<i+s?(t[1]=i+s,a=!1):t[1]>i+o-s&&(t[1]=i+o-s,a=!1),a}(i,h);(0,X.RI)(i,h,ye),(0,l.n)(ye.direction,ye.direction);const m=b.rq.get();!p&&(0,g.i)(r,ye,m)&&(u=m),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=(0,c.o8)(u),p?e.state|=Ce:e.state&=~Ce}function oe(e,t,r,i){const n=(0,l.l)(i.basis1),o=(0,l.l)(i.basis2),s=de(i),c=ue(i),d=(0,l.i)(b.rq.get(),0,0,0);(0,l.g)(d,(0,l.h)(b.rq.get(),i.basis1,t.direction[0]),(0,l.h)(b.rq.get(),i.basis2,t.direction[1])),(0,l.g)(d,i.origin,d);let u=0,h=1;if(he(t))1===t.direction[0]&&-1===t.direction[1]?u=Te:1===t.direction[0]&&1===t.direction[1]?u=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(u=3*Math.PI/2),h=c;else{const e=0!==t.direction[0]?1:2;u=1===e?Te:0,h=(1===e?o:n)-s}const g=(0,a.N9)(b.Rc.get(),u);(0,a.hs)(g,g,(0,l.i)(b.rq.get(),h,h,h)),(0,a.lw)(g,r,g),g[12]=0,g[13]=0,g[14]=0,e.modelTransform=g,e.renderLocation=d}function se(e,t,r,i){const n=i.worldUpAtPosition(r.origin,b.rq.get()),o=le(r,B.POSITIVE_X),s=(0,a.N9)(b.Rc.get(),o.edge*Math.PI/2);(0,a.eL)(s,s,-fe(r,n)),(0,a.lw)(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=o.position}function ae(e,t,r){const i=le(r,B.POSITIVE_Y),n=(0,a.N9)(b.Rc.get(),i.edge*Math.PI/2);(0,a.eL)(n,n,Te),(0,a.lw)(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=i.position}function le(e,t){switch(t){case B.POSITIVE_X:return{basis:e.basis1,direction:1,position:(0,l.g)(b.rq.get(),e.origin,e.basis1),edge:t};case B.POSITIVE_Y:return{basis:e.basis2,direction:1,position:(0,l.g)(b.rq.get(),e.origin,e.basis2),edge:t};case B.NEGATIVE_X:return{basis:e.basis1,direction:-1,position:(0,l.d)(b.rq.get(),e.origin,e.basis1),edge:t};case B.NEGATIVE_Y:return{basis:e.basis2,direction:-1,position:(0,l.d)(b.rq.get(),e.origin,e.basis2),edge:t}}}function ce(e,t,r){const i=r.projectToRenderScreen((0,l.g)(b.rq.get(),e,t),(0,s.sc)(b.rq.get())),n=r.projectToRenderScreen((0,l.d)(b.rq.get(),e,t),(0,s.sc)(b.rq.get()));return(0,l.k)((0,l.d)(i,i,n))}function de(e){const t=(0,l.l)(e.basis1),r=(0,l.l)(e.basis2);return w.Jj*Math.min(t,r)}function ue(e){return de(e)}function he(e){return 0!==e.direction[0]&&0!==e.direction[1]}function ge(e){return new C.t({view:e,attached:!1,color:(0,I.qb)(e.effectiveTheme),width:w.NT,renderOccluded:A.m$.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]],isDecoration:!0})}function pe(e){return new Y({view:e,attached:!1,backgroundColor:I.E$,gridColor:(0,I.Or)(e.effectiveTheme),gridWidth:4,renderOccluded:A.m$.OccludeAndTransparent,isDecoration:!0})}function me(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new i.default;if(null==e)return null;const{renderCoordsHelper:s}=t,a=s.fromRenderCoords(e.origin,new d.default({spatialReference:t.spatialReference}));if(null==a)return null;const c=(0,u.tryProjectWithZConversion)(a,r);if(null==c)return null;n.position=c;const h=2*(0,l.l)(e.basis1),g=2*(0,l.l)(e.basis2),p=$.d.renderUnitScaleFactor(t.spatialReference,r);n.width=h*p,n.height=g*p;const m=s.worldUpAtPosition(e.origin,b.rq.get());return n.tilt=(0,o.KJ)(fe(e,m)),n.heading=s.headingAtPosition(e.origin,e.basis1)-90,n}function fe(e,t){return(0,f.EJ)(t,e.basis2,e.basis1)+Te}function be(e,t){if(null==e?.position)return null;const r=(0,M.B)(e.position,t.spatialReference,t.elevationProvider);if(null==r)return null;const i=$.d.renderUnitScaleFactor(e.position.spatialReference,t.spatialReference),n=e.width*i,o=e.height*i;return{position:r,heading:e.heading,tilt:e.tilt,renderWidth:n,renderHeight:o}}function Ie(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,g.d)();if(null==e)return null;const s=function(e,t,r,i,s,a){let c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:(0,g.d)();return a.toRenderCoords(e,c.origin)?(a.worldBasisAtPosition(c.origin,h._.X,c.basis1),a.worldBasisAtPosition(c.origin,h._.Y,c.basis2),(0,p.mR)(c.basis2,c.basis1,c.origin,c.plane),(0,g.r)(c,-(0,o.kU)(t),(0,g.n)(c),c),(0,g.r)(c,(0,o.kU)(r),c.basis1,c),(0,l.h)(c.basis1,c.basis1,i/2),(0,l.h)(c.basis2,c.basis2,s/2),(0,g.u)(c),c):(n.A.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}(e.position,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,i);return r.tiltEnabled||null==s||function(e,t,r){const i=t.worldUpAtPosition(e.origin,b.rq.get()),n=e.basis1,o=fe(e,i),s=Math.round(o/Te)*Te;(0,g.r)(e,s-o,n,r)}(s,t.renderCoordsHelper,s),s}(V=B||(B={}))[V.POSITIVE_X=0]="POSITIVE_X",V[V.POSITIVE_Y=1]="POSITIVE_Y",V[V.NEGATIVE_X=2]="NEGATIVE_X",V[V.NEGATIVE_Y=3]="NEGATIVE_Y";const we=J.SJ.Custom1;var Me,ve;!function(e){e[e.HEADING=1]="HEADING",e[e.TILT=2]="TILT"}(Me||(Me={})),function(e){e[e.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.TILTED=3]="TILTED"}(ve||(ve={}));const Ce=J.SJ.Custom2,ye=(0,m.vt)(),Te=Math.PI/2,_e=J.SJ.Custom1,Oe=J.SJ.Custom2;function Ae(e){return null!=("building-scene-3d"===e.type?e:null)}},78136:(e,t,r)=>{r.d(t,{Q:()=>I});var i=r(69539),n=r(59784),o=r(68134),s=r(77654),a=r(56121),l=r(38317),c=r(91175),d=r(50468),u=r(17345),h=r(62577),g=r(45463),p=r(66470),m=r(30416),f=r(425),b=r(76336);class I extends a.q{constructor(e,t){const r=new m.r({writeDepth:!1,renderOccluded:g.m$.Opaque,isDecoration:!0}),s=l.eO.calloutWidth,a=new f.W({width:s,renderOccluded:g.m$.OccludeAndTransparent,isDecoration:!0});super({view:e,...w({imageMaterial:r,calloutMaterial:a})}),this._currentTexture=null,this._themeHandle=(0,o.watch)((()=>e.effectiveTheme.accentColor),(e=>{const o=(0,n._L)(e,.5),s=(0,n.bJ)(e),l=this._currentTexture,c=t(o,s);r.setParameters({textureId:c.texture.id}),a.setParameters({color:i.default.toUnitRGBA(e)}),this._currentTexture=c,l?.release()}),o.initial)}destroy(){this._themeHandle.remove(),this._currentTexture?.release(),super.destroy()}}function w(e){let{imageMaterial:t,calloutMaterial:r}=e;const{focusMultiplier:i,calloutLength:n,discRadius:o}=l.eO,a=o*i,g=(e,t)=>{const r=[0,1,2,2,3,0];return new u.V(t,[[p.r.POSITION,new d.n([n-e,-e,0,n+e,-e,0,n+e,e,0,n-e,e,0],r,3,!0)],[p.r.UV0,new d.n([0,0,1,0,1,1,0,1],r,2,!0)]])},m=(0,h.Z8)(r,[[0,0,0],[n-o,0,0]]),f=(0,h.Z8)(r,[[0,0,0],[n-a,0,0]]),I=s.s5;return{autoScaleRenderObjects:!1,collisionPriority:1,collisionType:{type:"disc",direction:[0,0,1],offset:[n,0,0]},focusMultiplier:i,radius:o,renderObjects:[new c.M(g(o,t),b.p7.Unfocused|I),new c.M(m,b.p7.Unfocused|I),new c.M(g(a,t),b.p7.Focused|I),new c.M(f,b.p7.Focused|I)],state:I}}},93131:(e,t,r)=>{r.d(t,{Bw:()=>f,D9:()=>y,DG:()=>u,E3:()=>A,FF:()=>l,Hb:()=>o,I4:()=>v,Jj:()=>O,Ll:()=>g,NT:()=>b,Sw:()=>R,UF:()=>a,YG:()=>_,ZR:()=>p,aE:()=>P,aj:()=>T,c1:()=>d,cE:()=>c,cO:()=>m,lS:()=>h,qD:()=>I,rb:()=>w,sd:()=>N,vA:()=>C,vo:()=>s,xj:()=>M});var i=r(81806),n=r(15941);const o=(0,i.A)("mac")?"Meta":"Control",s="Shift",a=2,l=1.15,c=1.15,d=2500,u=.02,h=Math.cos((0,n.kU)(45)),g=Math.cos((0,n.kU)(5)),p=.95,m=.3,f=2,b=1,I=3,w=11,M=22.5,v=40,C=48,y=2.25,T=4,_=1,O=.3,A=6,N=4,R=1600,P=.4}}]);
//# sourceMappingURL=43601.f833c194.chunk.js.map