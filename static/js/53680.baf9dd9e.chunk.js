"use strict";(self.webpackChunkn2_utility=self.webpackChunkn2_utility||[]).push([[53680],{53680:(e,n,i)=>{i.d(n,{AC:()=>t,DW:()=>o,Hj:()=>b,Ih:()=>z,Jy:()=>f,OW:()=>h,Rv:()=>l,UJ:()=>u,_i:()=>c,d8:()=>d,fs:()=>p,kc:()=>y,ke:()=>w,mE:()=>a,wx:()=>s});var r=i(50076);async function t(e,n){const{layer:i,view:t,forBinning:a,filter:s}=e;if(!i||!t)throw new r.default(`${n}:missing-parameters`,"'layer' and 'view' parameters are required");await i.load();const u="featureReduction"in i?i.featureReduction:null;if(a){if("binning"!==u?.type)throw new r.default(`${n}:invalid-parameters`,"'layer' must have 'featureReduction' property defined with 'binning' type when 'forBinning' parameter is true");if(s)throw new r.default(`${n}:invalid-parameters`,"'filter' parameter is not supported when 'forBinning' parameter is true")}return e}async function a(e){const{layer:n,forBinning:i,renderer:t}=e;await n.load();const a="featureReduction"in n?n.featureReduction:null,s=t?.clone()??(i&&"binning"===a?.type?a?.renderer?.clone():"renderer"in n?n.renderer?.clone():null);if(!s)throw new r.default("get-renderer-to-update:invalid-parameters","renderer not available");return s}function s(e,n,i){const r=e?.authoringInfo?.visualVariables;return r?.find((e=>"reference-size"===i?e.type===n&&"reference-size"===e.theme:e.type===n))}function u(e){if(!e)return null;const n=e.type,i="visualVariables"in e?e.visualVariables:null,r=i?.find(z),t=i?.find(h),a=e.authoringInfo,u=s(e,"color"),o=s(e,"size"),l=s(e,"size","reference-size");if("class-breaks"===n){if("univariate-color-size"===a?.type)return"univariate-color-size";if(r)return t?o?.units?"color-size-age":u?.units?"color-age-size":"color-size":u?.units?"color-age":l?"color-size":"color-continuous";if(t)return o?.units?"size-age":"size-continuous";if(e.classBreakInfos.length>1)return"class-breaks-color"===a?.type?"color-class-breaks":"class-breaks-size"===a?.type?"size-class-breaks":null;if(l)return"size-continuous"}return"unique-value"===n?e.valueExpression?"predominance"===a?.type?"predominance":"relationship"===a?.type?t||l?"relationship-size":"relationship":t||l?"type-size":"type":t?o?.units?"type-size-age":"type-size":l?"type-size":"type":"pie-chart"===n?"pie-chart":"dot-density"===n?"dot-density":null}function o(e){return!!e.visualVariables?.some(m)}function l(e){return!!e.visualVariables?.some(g)}function c(e){return e?.findIndex(m)??-1}function f(e){return e?.findIndex(h)??-1}function p(e){return e?.findIndex(z)??-1}function d(e){return e?.findIndex(v)??-1}function y(e){return e?.findIndex(g)??-1}function z(e){return"color"===e.type}function v(e){return"opacity"===e.type}function h(e){return"size"===e.type&&"outline"!==e.target&&"$view.scale"!==e.valueExpression}function m(e){return"size"===e.type&&"outline"===e.target}function g(e){return"size"===e.type&&"$view.scale"===e.valueExpression&&"outline"!==e.target&&Array.isArray(e.stops)}function w(e,n,i){const r=e.visualVariables,t=i(r);if(!n||Array.isArray(n)&&!n.length)return;Array.isArray(n)||(n=[n]);const a=n.map((e=>e.clone()));r?t>-1?r.splice(t,1,...a):r.push(...a):e.visualVariables=a}function b(e,n,i){const r=n?.visualVariables.find((e=>e.type===i)),t=s(e,i);t&&r&&(t.minSliderValue=r.minSliderValue,t.maxSliderValue=r.maxSliderValue,"size"===i&&"reference-size"===t.theme&&(t.sizeStops=r.sizeStops?.map((e=>e.clone())),t.referenceSizeScale=r.referenceSizeScale))}}}]);
//# sourceMappingURL=53680.baf9dd9e.chunk.js.map