"use strict";(self.webpackChunkn2_utility=self.webpackChunkn2_utility||[]).push([[42989],{42989:(e,t,r)=>{r.d(t,{default:()=>M});var a=r(35143),s=r(31633),n=r(46053),i=(r(81806),r(76460),r(47249),r(85842)),c=r(25329),u=r(63544),m=(r(11265),r(39839)),l=r(39348);const o=e=>{let t=class extends e{constructor(){super(...arguments),this.messages=null,this.pixelMeasurementUnit="meters",this.pixelAreaMeasurementUnit="square-meters"}copyMeasurementResult(e){let t,r;switch(e){case"area":t={measurement:this.getConvertedAreaString("measurement"),accuracy:this.getConvertedAreaString("accuracy")},r="{measurement} \xb1 {accuracy}";break;case"distance":t={measurement:this.getConvertedDistanceString("measurement"),accuracy:this.getConvertedDistanceString("accuracy")},r="{measurement} \xb1 {accuracy}";break;case"height":t={measurement:this.getConvertedHeightString("measurement"),accuracy:this.getConvertedHeightString("accuracy")},r="{measurement} \xb1 {accuracy}"}const a=(0,l.V)(r,t);(0,m.lW)(a)}getConvertedAreaString(e){const{oiViewModel:t,measurementUnitMessages:r,pixelAreaMeasurementUnit:a,messages:s}=this,{areaMeasurementResult:n,areaMeasurementAccuracy:i}=t;return(0,m.uH)(e,n,i,r,a)??s.startMeasurement}getConvertedDistanceString(e){const{oiViewModel:t,measurementUnitMessages:r,pixelMeasurementUnit:a,messages:s}=this,{distanceAccuracyArray:n,distanceMeasurementResult:i}=t;return(0,m.EH)(e,i,n,r,a)??s.startMeasurement}getAccuracy(e){let t,r;switch(e){case"area":return t={accuracy:this.getConvertedAreaString("accuracy")},r="\xb1 {accuracy}",(0,l.V)(r,t);case"distance":return t={accuracy:this.getConvertedDistanceString("accuracy")},r="\xb1 {accuracy}",(0,l.V)(r,t);case"height":return t={accuracy:this.getConvertedHeightString("accuracy")},r="\xb1 {accuracy}",(0,l.V)(r,t)}}getConvertedHeightString(e){const{oiViewModel:t,measurementUnitMessages:r,pixelMeasurementUnit:a,messages:s}=this,{heightMeasurementAccuracy:n,heightMeasurementResult:i}=t;return(0,m.wv)(e,i,n,r,a)??s.startMeasurement}handleLengthMeasurementUnitChange(e){this.pixelMeasurementUnit=e}handleAreaMeasurementUnitChange(e){this.pixelAreaMeasurementUnit=e}};return(0,a._)([(0,n.MZ)()],t.prototype,"messages",void 0),(0,a._)([(0,n.MZ)()],t.prototype,"measurementUnitMessages",void 0),(0,a._)([(0,n.MZ)()],t.prototype,"measurementType",void 0),(0,a._)([(0,n.MZ)()],t.prototype,"pixelMeasurementUnit",void 0),(0,a._)([(0,n.MZ)()],t.prototype,"pixelAreaMeasurementUnit",void 0),(0,a._)([(0,n.MZ)()],t.prototype,"oiViewModel",void 0),t=(0,a._)([(0,i.$)("esri.widgets.OrientedImageryViewer.mixins.ImageMeasurementMixin")],t),t};var h=r(94126),d=r(54761),g=r(47370);let y=class extends(o(c.default)){constructor(e){super(e)}loadDependencies(){return(0,h.W)({action:()=>Promise.resolve().then(r.bind(r,85375)),panel:()=>Promise.resolve().then(r.bind(r,32647)),button:()=>Promise.resolve().then(r.bind(r,43285)),table:()=>r.e(64985).then(r.bind(r,64985)),icon:()=>Promise.resolve().then(r.bind(r,16702)),"table-row":()=>r.e(95286).then(r.bind(r,95286)),"table-header":()=>r.e(88227).then(r.bind(r,88227)),"table-cell":()=>r.e(64012).then(r.bind(r,64012))})}get _measurementResult(){const{measurementType:e,oiViewModel:t}=this,{areaMeasurementResult:r,heightMeasurementResult:a,distanceMeasurementResult:s}=t;switch(e){case"area":return r;case"height":return a;case"distance":return s}}get _measurementAccuracy(){const{measurementType:e,oiViewModel:t}=this,{areaMeasurementAccuracy:r,heightMeasurementAccuracy:a,distanceAccuracyArray:s}=t;switch(e){case"area":return r;case"height":return a;case"distance":return s}}get _measurementUnit(){const{measurementType:e,pixelAreaMeasurementUnit:t,pixelMeasurementUnit:r}=this;return"area"===e?t:r}get _measurementUnitOptions(){const{measurementType:e}=this;return"area"===e?s.z3:s.GB}_convertedMeasurement(){const{measurementType:e}=this;switch(e){case"area":return this.getConvertedAreaString("measurement");case"height":return this.getConvertedHeightString("measurement");case"distance":return this.getConvertedDistanceString("measurement")}}_measurementUnitChangeHandler(e){const{measurementType:t}=this;"area"===t?this.pixelAreaMeasurementUnit=e:this.pixelMeasurementUnit=e}_renderUnitSelect(){const{_measurementUnit:e,_measurementResult:t,_measurementUnitOptions:r}=this;return t?(0,d.K)("div",{class:u.AH.measurementsBar},(0,d.K)(g.t,{options:r,selectLabel:"",value:e,onChange:e=>this._measurementUnitChangeHandler(e)}),t?(0,d.K)("calcite-action",{bind:this,icon:"copy-to-clipboard",label:"copy",onclick:()=>this.copyMeasurementResult(this.measurementType),scale:"s",text:""}):null):null}_renderMeasurementResults(){const{_measurementResult:e,_measurementAccuracy:t,messages:r,measurementType:a}=this;return e?(0,d.K)("calcite-table",{bordered:!0,caption:r.measurementTable,class:u.AH.measurementsTable,scale:"s"},(0,d.K)("calcite-table-row",{slot:"table-header"},(0,d.K)("calcite-table-header",{alignment:"center",heading:r.value}),(0,d.K)("calcite-table-header",{alignment:"center",heading:r.accuracy})),(0,d.K)("calcite-table-row",null,(0,d.K)("calcite-table-cell",{alignment:"center"},this._convertedMeasurement()),(0,d.K)("calcite-table-cell",{alignment:"center"},"distance"===a&&Array.isArray(t)&&t?.length||"area"===a&&t||"height"===a&&t?this.getAccuracy(this.measurementType):(0,d.K)("calcite-icon",{icon:"hourglass-active",scale:"s"})))):null}_renderNewMeasurementButton(){const{messages:e,measurementType:t}=this;return(0,d.K)("calcite-button",{class:u.AH.measurementsButton,onclick:()=>this.oiViewModel.initializeMeasurement(t)},e.newMeasurement)}_renderStartMeasurementMessage(){const{oiViewModel:{displayNewMeasurementButton:e},messages:t,_measurementResult:r}=this;return!e&&!r&&(0,d.K)("div",{class:u.AH.measurementDisplay,key:`start-measurement-${this.measurementType}`},t.startMeasurement)}render(){return(0,d.K)("calcite-panel",{class:u.AH.measurementResults,key:`measurement-result-container-${this.measurementType}`},this._renderStartMeasurementMessage(),this._renderNewMeasurementButton(),this._renderUnitSelect(),this._renderMeasurementResults())}};(0,a._)([(0,n.MZ)()],y.prototype,"_measurementResult",null),(0,a._)([(0,n.MZ)()],y.prototype,"_measurementAccuracy",null),(0,a._)([(0,n.MZ)()],y.prototype,"_measurementUnit",null),(0,a._)([(0,n.MZ)()],y.prototype,"_measurementUnitOptions",null),y=(0,a._)([(0,i.$)("esri.widgets.OrientedImageryViewer.components.ImageMeasurementWidget")],y);const M=y}}]);
//# sourceMappingURL=42989.ce46a385.chunk.js.map